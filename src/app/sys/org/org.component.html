<div nz-row [nzGutter]="20">
  <div nz-col [nzSm]="8">
    <nz-card>
      <ng-template #title>
        组织架构
      </ng-template>
      <ng-template #extra>
        <button nz-button [nzType]="'primary'" [disabled]="!selectedNode" (click)="addOrgTemp()">
          <i class="anticon anticon-plus-circle-o"></i>
        </button>
        <button nz-button [nzType]="'danger'" [disabled]="!selectedNode" (click)="deleteOrg()">
          <i class="anticon anticon-minus-circle-o"></i>
        </button>
      </ng-template>
      <ng-template #body>
        <tree-root #tree
          [nodes]="nodes"
          (activate)="treeActivate($event)"
          [options]="options"
          [focused]="true"
          (event)="onEvent($event)"
          (initialized)="onInitialized(tree)">
          <template #loadingTemplate>Loading, please hold....</template>
        </tree-root>
      </ng-template>
    </nz-card>
  </div>
  <div nz-col [nzSm]="16">
    <nz-card>
      <ng-template #title>
        详情
      </ng-template>
      <ng-template #body>
        <form nz-form [formGroup]="validateForm" (ngSubmit)="_submitForm()">
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="name" nz-form-item-required>名称</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input [nzSize]="'large'" formControlName="name" [nzId]="'name'" [ngModel]="selectedOrg.name" [nzPlaceHolder]="'请输入组织名称'"></nz-input>
              <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('required')">名称不能为空！</div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="no" nz-form-item-required>编号</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input [nzSize]="'large'" formControlName="no" [nzId]="'name'" [ngModel]="selectedOrg.no" [nzPlaceHolder]="'请输入编号'"></nz-input>
              <div nz-form-explain *ngIf="getFormControl('no').dirty&&getFormControl('no').hasError('required')">编号不能为空！</div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="info">备注</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24">
              <nz-input [nzSize]="'large'" formControlName="info" [nzRows]="2" [nzType]="'textarea'" [nzPlaceHolder]="'写点备注说明一下'" [nzId]="'info'" [ngModel]="selectedOrg.info"></nz-input>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-control nz-col [nzSpan]="14" [nzOffset]="6">
              <label nz-checkbox formControlName="enable" [ngModel]="selectedOrg.enable">
                <span>启用</span>
              </label>
            </div>
          </div>
          <div nz-form-item nz-row style="margin-bottom:8px;">
            <div nz-form-control nz-col [nzSpan]="14" [nzOffset]="6">
              <button nz-button [nzSize]="'large'" [nzType]="'primary'" (click)="saveOrg()" [disabled]="!validateForm.valid">保存</button>
            </div>
          </div>
        </form>
      </ng-template>
    </nz-card>
  </div>
</div>
