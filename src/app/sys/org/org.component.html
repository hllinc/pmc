<div nz-row [nzGutter]="20">
  <div nz-col [nzSm]="8">
    <nz-card nzTitle="组织架构" [nzExtra]="extraTemplate">
      <nz-tree [(ngModel)]="nodes"
               [nzAsyncData]="true"
               (nzExpandChange)="mouseAction('expand',$event)">
      </nz-tree>
    </nz-card>
    <ng-template #extraTemplate>
      <nz-button-group>
        <button nz-button nzType="primary" (click)="addOrgTemp()">
          <i class="anticon anticon-plus-circle-o"></i>
        </button>
        <button nz-button nzType="danger">
          <i class="anticon anticon-minus-circle-o"></i>
        </button>
      </nz-button-group>
    </ng-template>
  </div>
  <div nz-col [nzSm]="16">
    <nz-card nzTitle="详情">
      <form nz-form [formGroup]="validateForm" (ngSubmit)="_submitForm()">
        <nz-form-item nz-row>
          <nz-form-label nz-col [nzSm]="6" [nzXs]="24" nzRequired>
            <span>名称</span>
          </nz-form-label>
          <nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
            <input nz-input formControlName="name" id="name" [(ngModel)]="selectedOrg.name"
                   placeholder="请输入组织名称"/>
            <nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('required')">
              名称不能为空！
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item nz-row>
          <nz-form-label nz-col [nzSm]="6" [nzXs]="24">
            编号
          </nz-form-label>
          <nz-form-control nz-col [nzSm]="14" [nzXs]="24">
            <input nz-input formControlName="no" id="no" [(ngModel)]="selectedOrg.no"
                   readonly="true"/>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item nz-row>
          <nz-form-label nz-col [nzSm]="6" [nzXs]="24">
            备注
          </nz-form-label>
          <nz-form-control nz-col [nzSm]="14" [nzXs]="24">
            <textarea formControlName="info" nz-input rows="2" placeholder="写点备注说明一下" [(ngModel)]="selectedOrg.info"></textarea>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item nz-row>
          <nz-form-control nz-col [nzSpan]="14" [nzOffset]="6">
            <label nz-checkbox formControlName="enable" [(ngModel)]="selectedOrg.enable">
              <span>启用</span>
            </label>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item nz-row style="margin-bottom:8px;">
          <nz-form-control nz-col [nzSpan]="14" [nzOffset]="6">
            <button nz-button [nzSize]="'large'" [nzType]="'primary'" (click)="saveOrg()"
                    [disabled]="!validateForm.valid">保存
            </button>
          </nz-form-control>
        </nz-form-item>
      </form>
    </nz-card>
  </div>
</div>
